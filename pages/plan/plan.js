import*as General from"../../js/script.js";import*as Randmiz from"../../js/randmiz.js";import*as Section from"../../js/sections.js";import*as Boost from"../../js/boost.js";import*as Outdoor from"../../data/outdoor.js";import*as Indoor from"../../data/indoor.js";import*as Food from"../../data/food.js";import*as Drink from"../../data/drink.js";import*as Location from"../../data/location.js";import*as Letter from"../../data/letter.js";import*as Pipe from"../../actions/pipes.js";import*as OutdoorSummer from"../../data/outdoorsummer.js";import*as OutdoorWinter from"../../data/outdoorwinter.js";$(document).ready(function(){var t=[],e=10,a="",o=[".card-influencer",".card-dj",".card-dibs"],n=[{array:Food,target:".card-food"},{array:Drink,target:".card-drink"},{array:Location,target:".card-location"}],r=[{id:"",name:"",icon:"",description:"",stats:[""],bg:"",min:-1,max:-1,class:""}];const i=["Hang tight! We know you're hungry, so we might suggest the farthest restaurant away! We got your best interest at heart ‚ù§","Checking thruster scans... Contacting HQ... Beginning Countdown... Almost there üöÄ","Hold your horses! üêé Don't be so neigh-gative just cause there's a loading screen... No wait come back!","Wait... What's happening? Why is the entire screen suddenly yellow!? Oh No! Someone help! üò±","Want to hear a joke while the results load? ü§î Yes!? Okay! So one time there was this guy who went to the park, and this guy's name was Sam..."];function s(){Section.BuildList("#PlanPlayers .input-list-items",t),$(".input-counter").text(e-t.length),$(".input-counter").removeClass("error-background"),$(".input-counter").removeClass("make-it-buzz"),$(".input-list-button").attr("disabled",!1)}function l(){Section.LaunchRandmizrSequence(),function(){let t=c();if(1===t.length)$(".card-role").addClass("display-none"),$(".title-player-roles").addClass("display-none");else if(t.length>1)for(var e=0;e<o.length;e++)if(0===t.length)$(o[e]).addClass("display-none");else{let a=Randmiz.GetRandomInt(0,t.length-1);$(o[e]+" .card-title").text(t[a].text),$(o[e]+" .playername").text(t[a].text),t=Section.RemoveFromList(t[a].id,t)}else alert("Error Code: LBY-01")}(),function(){let t;"y"===Pipe.outdoorsummerstatus&&"n"===Pipe.outdoorwinterstatus?t=Outdoor.list.concat(OutdoorSummer.list):"n"===Pipe.outdoorsummerstatus&&"y"===Pipe.outdoorwinterstatus?t=Outdoor.list.concat(OutdoorWinter.list):"y"===Pipe.outdoorsummerstatus&&"y"===Pipe.outdoorwinterstatus?t=(t=Outdoor.list.concat(OutdoorWinter.list)).concat(OutdoorSummer.list):"n"===Pipe.outdoorsummerstatus&&"n"===Pipe.outdoorwinterstatus&&(t=Outdoor.list.slice());let e=Randmiz.GetRandomInt(0,t.length-1),a=OutdoorSummer.list.find(a=>a.name===t[e].name),o="";a?($(".result-banner").addClass("summer-banner"),$(".card-outdoor .card-title").addClass("summer-title"),o="‚òÄÔ∏èüçâ"):($(".card-outdoor .card-title").removeClass("summer-title"),o=""),$(".card-outdoor .card-title").text(o+" "+t[e].name),$(".card-outdoor .card-text").text(t[e].description)}(),function(){let t=Randmiz.GetRandomInt(0,Indoor.list.length-1);$(".card-indoor .card-title").text(Indoor.list[t].name),$(".card-indoor .card-text").text(Indoor.list[t].description)}(),function(){for(var t=0;t<n.length;t++){let e=Randmiz.GetRandomInt(0,n[t].array.list.length-1);$(n[t].target+" .card-list-item-title").text(n[t].array.list[e].name),Boost.GetIntegratedBoost(n[t].array.list[e])}}(),Section.PowerUpBoosts()}function d(){Section.CloseResult(),$(".card-role").removeClass("display-none"),$(".title-player-roles").removeClass("display-none"),$(".result-banner").removeClass("result-banner-drop"),$(".special-card").removeClass("special-card-fade-in"),$(".special-card-container").empty(),$(".result-banner").removeClass().addClass("result-banner"),General.ClearRain(".result-rain"),Section.CloseUltimate(),Boost.ClearBoost()}function c(){let e=t.slice(),o={id:"il"+t.length,text:a};return e.push(o),e}$("#PlanPlayers .input-list-button").click(function(){if(Section.CheckLimit(t,e))$(".input-counter").addClass("error-background"),$(".input-counter").addClass("make-it-buzz"),$(".input-list-button").attr("disabled",!0);else{let e=$("#PlanPlayers > input").val().trim(),a=Section.CheckInputTextRequired("#PlanPlayers",e),o=Section.CheckTextHealth(a);a&&(o?(t=Section.AddToList("#PlanPlayers",a,t),s()):($("#PlanPlayers > input").val(""),alert("Invalid Name.")))}}),$(document).on("click","#PlanPlayers .input-list-item-remove",function(){let e=$(this).attr("id");t=Section.RemoveFromList(e,t),s()}),$("#Randmiz").click(function(){a=Section.CheckInputTextRequired("#PlanName",$("#PlanName > input").val().trim());let t=Section.CheckTextHealth(a);if(a)if(t){let t=Randmiz.GetRandomInt(0,2e3),e=Section.FindSpecialCard(r,t),a=c();if(a.length>1){if(e)if("USC"===e.id)Section.LaunchUltimateSequence(),function(t,e){let a=Randmiz.GetRandomInt(0,e.length-1),o=e[a].text,n=new Date,r=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),s=n.getFullYear(),l=r+"/"+i+"/"+s;$(".ultimate-congratulations").text(o),$(".ultimate-card-name").text(o),$(".ultimate-card-date").text(l),$(".ultimate-card-description-winner").text(o)}(0,a),$(".ultimate").addClass("legendary-background");else{let t=Section.HandleSpecialCard(e,a);$(".result-banner").addClass(e.bg),$(".special-card-container").append(t),l(),setTimeout(function(){General.Rain(e.icon,100,".result-rain"),$(".special-card").addClass("special-card-fade-in")},4100)}else l();Section.LoadingScreenText(i)}else 1==a.length?(l(),Section.LoadingScreenText(i)):console.log("Error Code LBY-01");setTimeout(function(){$(".result-banner").addClass("result-banner-drop")},4100)}else $("#PlanName > input").val(""),alert("Invalid Name.")}),$(".retry-button").click(function(){d()}),$(".close-result-button").click(function(){d()})});